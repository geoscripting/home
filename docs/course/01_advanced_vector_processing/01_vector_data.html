

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Part 2: Vector data Processing in Python &mdash; Advanced Geoscripting 2020 2020 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script type="text/javascript" src="https://unpkg.com/@jupyter-widgets/html-manager@^0.18.0/dist/embed-amd.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/my_theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/jupyter-sphinx.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Part 3: Raster Data Processing in Python" href="02_raster_data.html" />
    <link rel="prev" title="Part 1: Introduction to Advanced Geo Data Processing" href="00_pythonic_or_not_pythonic.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> Advanced Geoscripting 2020
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">General Information</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../general/administration.html">Administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../general/communication.html">Communication</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../general/resources.html">Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../general/time_schedule.html">Time schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../general/learninggoals.html">Learning goals</a></li>
</ul>
<p class="caption"><span class="caption-text">Course Preparation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../preparation/software_setup.html">Software Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../preparation/git_intro/index.html">git</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../preparation/preparatory_assignment/README.html">Preparatory Assignment</a></li>
</ul>
<p class="caption"><span class="caption-text">Course Content</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="README.html">1. Advanced Geo Data Processing</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="README.html#learning-goals">Learning goals</a></li>
<li class="toctree-l2"><a class="reference internal" href="README.html#introduction-slides">Introduction slides</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="README.html#assignment">Assignment</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="00_pythonic_or_not_pythonic.html">Part 1: Introduction to Advanced Geo Data Processing</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Part 2: Vector data Processing in Python</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#1.-Creating-GeoJSON-data">1. Creating GeoJSON data</a></li>
<li class="toctree-l4"><a class="reference internal" href="#2.-Reading-GeoJSON-in-Python">2. Reading GeoJSON in Python</a></li>
<li class="toctree-l4"><a class="reference internal" href="#3.-Geometric-Operations-in-Python-using-Shapely">3. Geometric Operations in Python using Shapely</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Geospatial-analyses-with-attribute-data-using-Geopandas">Geospatial analyses with attribute data using Geopandas</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Summary">Summary</a></li>
<li class="toctree-l4"><a class="reference internal" href="#References:">References:</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="02_raster_data.html">Part 3: Raster Data Processing in Python</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../02_vectorized_geodata_processing/README.html">2. Vectorized Computation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../03_scientific_programming/README.html">3. Best Practices in Scientific Programming</a></li>
<li class="toctree-l1"><a class="reference internal" href="../04_geodata_visualization/README.html">4. Geo Data Visualization</a></li>
</ul>
<p class="caption"><span class="caption-text">Final Assignment</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../final_assignment/index.html">Final Assignment</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Advanced Geoscripting 2020</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="README.html">1. Advanced Geo Data Processing</a> &raquo;</li>
        
      <li>Part 2: Vector data Processing in Python</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/course/01_advanced_vector_processing/01_vector_data.ipynb.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput.container,
div.nbinput.container div.prompt,
div.nbinput.container div.input_area,
div.nbinput.container div[class*=highlight],
div.nbinput.container div[class*=highlight] pre,
div.nboutput.container,
div.nboutput.container div.prompt,
div.nboutput.container div.output_area,
div.nboutput.container div[class*=highlight],
div.nboutput.container div[class*=highlight] pre {
    background: none;
    border: none;
    padding: 0 0;
    margin: 0;
    box-shadow: none;
}

/* avoid gaps between output lines */
div.nboutput.container div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput.container,
div.nboutput.container {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput.container,
    div.nboutput.container {
        flex-direction: column;
    }
}

/* input container */
div.nbinput.container {
    padding-top: 5px;
}

/* last container */
div.nblast.container {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput.container div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput.container div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput.container div.prompt,
div.nboutput.container div.prompt {
    width: 4.5ex;
    padding-top: 5px;
    position: relative;
    user-select: none;
}

div.nbinput.container div.prompt > div,
div.nboutput.container div.prompt > div {
    position: absolute;
    right: 0;
    margin-right: 0.3ex;
}

@media (max-width: 540px) {
    div.nbinput.container div.prompt,
    div.nboutput.container div.prompt {
        width: unset;
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput.container div.prompt.empty {
        padding: 0;
    }

    div.nbinput.container div.prompt > div,
    div.nboutput.container div.prompt > div {
        position: unset;
    }
}

/* disable scrollbars on prompts */
div.nbinput.container div.prompt pre,
div.nboutput.container div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput.container div.input_area,
div.nboutput.container div.output_area {
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput.container div.input_area,
    div.nboutput.container div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput.container div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    background: #f5f5f5;
}

/* override MathJax center alignment in output cells */
div.nboutput.container div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput.container div.math p {
    text-align: left;
}

/* standard error */
div.nboutput.container div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }


div.nbinput.container div.input_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight].math,
div.nboutput.container div.output_area.rendered_html,
div.nboutput.container div.output_area > div.output_javascript,
div.nboutput.container div.output_area:not(.rendered_html) > img{
    padding: 5px;
}

/* fix copybtn overflow problem in chromium (needed for 'sphinx_copybutton') */
div.nbinput.container div.input_area > div[class^='highlight'],
div.nboutput.container div.output_area > div[class^='highlight']{
    overflow-y: hidden;
}

/* hide copybtn icon on prompts (needed for 'sphinx_copybutton') */
.prompt a.copybtn {
    display: none;
}

/* Some additional styling taken form the Jupyter notebook CSS */
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
div.rendered_html th {
  font-weight: bold;
}
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}

/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="Part-2:-Vector-data-Processing-in-Python">
<h1>Part 2: Vector data Processing in Python<a class="headerlink" href="#Part-2:-Vector-data-Processing-in-Python" title="Permalink to this headline">¶</a></h1>
<p>In this session we will look at how geodata can be represented in Python using different data structures. We will use a GeoJSON file for this purpose, since it can be easily ready humans and machines.</p>
<p>Vector data processing using fiona, shapely and geopandas relies on the <a class="reference external" href="https://de.wikipedia.org/wiki/GeoJSON">GeoJSON format</a>. Hence, features (no matter whether they origiinate from a shapefile) are respresented as dictionaries following the GeoJSON specifications. Therefore, I would recommend using geojson files instead of shapefiles when working with Python.</p>
<div class="section" id="1.-Creating-GeoJSON-data">
<h2>1. Creating GeoJSON data<a class="headerlink" href="#1.-Creating-GeoJSON-data" title="Permalink to this headline">¶</a></h2>
<div class="section" id="Exercise-1:">
<h3>Exercise 1:<a class="headerlink" href="#Exercise-1:" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><p>Go to <a class="reference external" href="http://geojson.io">geojson.io</a>.</p></li>
<li><p>Create a Point, a LineString and a Polygon anywhere on the map.</p></li>
<li><p>Move the Point somewhere else by editing the GeoJSON data in the editor.</p></li>
<li><p>Download the file.</p></li>
<li><p>Bonus: try to generate a polygon with a hole.</p></li>
</ol>
</div>
</div>
<div class="section" id="2.-Reading-GeoJSON-in-Python">
<h2>2. Reading GeoJSON in Python<a class="headerlink" href="#2.-Reading-GeoJSON-in-Python" title="Permalink to this headline">¶</a></h2>
<p><strong>Exercise:</strong> Load your geojson file into Python as a string using the <code class="docutils literal notranslate"><span class="pre">open</span></code> function.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">geojson_path</span> <span class="o">=</span> <span class="s2">&quot;./data/some_features.geojson&quot;</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">src</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">geojson_path</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span>
<span class="n">polygons_str</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">geojson_path</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="n">src</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="n">polygons_str</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&#39;{&#34;type&#34;:&#34;FeatureCollection&#34;,&#34;features&#34;:[{&#34;type&#34;:&#34;Feature&#34;,&#34;properties&#34;:{&#34;color&#34;:&#34;green&#34;,&#34;id&#34;:1},&#34;geometry&#34;:{&#34;type&#34;:&#34;Polygon&#34;,&#34;coordinates&#34;:[[[8.670530319213867,49.41337442939828],[8.685293197631836,49.41337442939828],[8.685293197631836,49.421861555723595],[8.670530319213867,49.421861555723595],[8.670530319213867,49.41337442939828]]]}},{&#34;type&#34;:&#34;Feature&#34;,&#34;properties&#34;:{&#34;color&#34;:&#34;blue&#34;,&#34;id&#34;:2},&#34;geometry&#34;:{&#34;type&#34;:&#34;Polygon&#34;,&#34;coordinates&#34;:[[[8.680486679077148,49.418455714236885],[8.69619369506836,49.418455714236885],[8.69619369506836,49.42833758576036],[8.680486679077148,49.42833758576036],[8.680486679077148,49.418455714236885]],[[8.688468933105469, 49.42398310798032],\n   [8.693962097167969, 49.42398310798032],\n   [8.693962097167969, 49.426607006252176],\n   [8.688468933105469, 49.426607006252176],\n   [8.688468933105469, 49.42398310798032]]]}}]}\n&#39;
</pre></div></div>
</div>
<p><strong>Questions</strong> 1. Name the basic data structures in Python. 2. Which one of those is most suitable to store geojson data? 3. Decode the string to a more suitable data structure.</p>
<div class="section" id="Decoding-json">
<h3>Decoding json<a class="headerlink" href="#Decoding-json" title="Permalink to this headline">¶</a></h3>
<p>We can also do this in one go using a context manager (“with”) which will close the data set after all operations have been performed. The resulting object is now of type dictionary.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">json</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">geojson_path</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">src</span><span class="p">:</span>
    <span class="n">data_geojson</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">src</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">data_geojson</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
{&#39;type&#39;: &#39;FeatureCollection&#39;,
 &#39;features&#39;: [{&#39;type&#39;: &#39;Feature&#39;,
   &#39;properties&#39;: {&#39;color&#39;: &#39;green&#39;, &#39;id&#39;: 1},
   &#39;geometry&#39;: {&#39;type&#39;: &#39;Polygon&#39;,
    &#39;coordinates&#39;: [[[8.670530319213867, 49.41337442939828],
      [8.685293197631836, 49.41337442939828],
      [8.685293197631836, 49.421861555723595],
      [8.670530319213867, 49.421861555723595],
      [8.670530319213867, 49.41337442939828]]]}},
  {&#39;type&#39;: &#39;Feature&#39;,
   &#39;properties&#39;: {&#39;color&#39;: &#39;blue&#39;, &#39;id&#39;: 2},
   &#39;geometry&#39;: {&#39;type&#39;: &#39;Polygon&#39;,
    &#39;coordinates&#39;: [[[8.680486679077148, 49.418455714236885],
      [8.69619369506836, 49.418455714236885],
      [8.69619369506836, 49.42833758576036],
      [8.680486679077148, 49.42833758576036],
      [8.680486679077148, 49.418455714236885]],
     [[8.688468933105469, 49.42398310798032],
      [8.693962097167969, 49.42398310798032],
      [8.693962097167969, 49.426607006252176],
      [8.688468933105469, 49.426607006252176],
      [8.688468933105469, 49.42398310798032]]]}}]}
</pre></div></div>
</div>
</div>
<div class="section" id="Fiona:-Reading-and-writing-geographic-data-in-Python">
<h3>Fiona: Reading and writing geographic data in Python<a class="headerlink" href="#Fiona:-Reading-and-writing-geographic-data-in-Python" title="Permalink to this headline">¶</a></h3>
<p>“[Fiona] focuses on reading and writing data in standard Python IO style and relies upon familiar Python types and protocols such as files, dictionaries, mappings, and iterators instead of classes specific to GDAL’s OpenGIS Reference Implementation (OGR).” <a class="reference external" href="https://github.com/Toblerity/Fiona">Fiona Documentation</a></p>
<p>Reading the data like that still seems a bit cumbersome and it wouldn’t work for shapefiles. Luckily there is Fiona - a Python library that provides an interface to GDAL/OGR to read and write data.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">fiona</span>
<span class="n">source</span> <span class="o">=</span> <span class="n">fiona</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">geojson_path</span><span class="p">)</span>
<span class="n">features</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">source</span><span class="p">)</span>
<span class="nb">type</span><span class="p">(</span><span class="n">source</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
fiona.collection.Collection
</pre></div></div>
</div>
<p>You can read different metadata information from the fiona.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">source</span><span class="o">.</span><span class="n">crs</span>
<span class="n">source</span><span class="o">.</span><span class="n">meta</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
{&#39;driver&#39;: &#39;GeoJSON&#39;,
 &#39;schema&#39;: {&#39;properties&#39;: OrderedDict([(&#39;color&#39;, &#39;str&#39;), (&#39;id&#39;, &#39;int&#39;)]),
  &#39;geometry&#39;: &#39;Polygon&#39;},
 &#39;crs&#39;: {&#39;init&#39;: &#39;epsg:4326&#39;},
 &#39;crs_wkt&#39;: &#39;GEOGCS[&#34;WGS 84&#34;,DATUM[&#34;WGS_1984&#34;,SPHEROID[&#34;WGS 84&#34;,6378137,298.257223563,AUTHORITY[&#34;EPSG&#34;,&#34;7030&#34;]],AUTHORITY[&#34;EPSG&#34;,&#34;6326&#34;]],PRIMEM[&#34;Greenwich&#34;,0,AUTHORITY[&#34;EPSG&#34;,&#34;8901&#34;]],UNIT[&#34;degree&#34;,0.0174532925199433,AUTHORITY[&#34;EPSG&#34;,&#34;9122&#34;]],AUTHORITY[&#34;EPSG&#34;,&#34;4326&#34;]]&#39;}
</pre></div></div>
</div>
<p>As with every file connection, it is important to explicitly close them after your done with it. This is usually done using the <code class="docutils literal notranslate"><span class="pre">close()</span></code> method. However, very often forgotten. To avoid conflicts, it is better to use context managers. You create them using the <code class="docutils literal notranslate"><span class="pre">with</span></code> statement. Everything inside the block is executed while the file is open. Afterwards the file is closed automatically.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[77]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">source</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="k">with</span> <span class="n">fiona</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">geojson_path</span><span class="p">)</span> <span class="k">as</span> <span class="n">src</span><span class="p">:</span>
    <span class="c1">#for item in src:</span>
    <span class="c1">#    print(item)</span>
    <span class="n">features</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">src</span><span class="p">)</span>
    <span class="n">crs</span> <span class="o">=</span> <span class="n">src</span><span class="o">.</span><span class="n">crs</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="Exercise-2:">
<h3>Exercise 2:<a class="headerlink" href="#Exercise-2:" title="Permalink to this headline">¶</a></h3>
<p><strong>1. Load the data from the file “./cs4geos_ss19/exercice/ex1/polygons.geojson” into Python.</strong></p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[18]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">geojson_path_2</span> <span class="o">=</span> <span class="s2">&quot;./data/some_features.geojson&quot;</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[22]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="k">with</span> <span class="n">fiona</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">geojson_path_2</span><span class="p">)</span> <span class="k">as</span> <span class="n">src</span><span class="p">:</span>
    <span class="n">features</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">src</span><span class="p">)</span>
    <span class="n">crs</span> <span class="o">=</span> <span class="n">src</span><span class="o">.</span><span class="n">crs</span>
</pre></div>
</div>
</div>
<p><strong>Questions:</strong> 1. What how many features are contained in the geojson file? 2. What is the difference between the geometries of the features?</p>
<p><strong>2. Save the features to separate new variables ‘feature1’ and ‘feature2’.</strong></p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[26]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">feature1</span> <span class="o">=</span> <span class="n">features</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">feature2</span> <span class="o">=</span> <span class="n">features</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
</div>
<p><strong>3. Print the coordinates of feature2.</strong></p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[27]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">feature2</span><span class="p">[</span><span class="s2">&quot;geometry&quot;</span><span class="p">][</span><span class="s2">&quot;coordinates&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[27]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[[(8.680486679077148, 49.418455714236885),
  (8.69619369506836, 49.418455714236885),
  (8.69619369506836, 49.42833758576036),
  (8.680486679077148, 49.42833758576036),
  (8.680486679077148, 49.418455714236885)],
 [(8.688468933105469, 49.42398310798032),
  (8.693962097167969, 49.42398310798032),
  (8.693962097167969, 49.426607006252176),
  (8.688468933105469, 49.426607006252176),
  (8.688468933105469, 49.42398310798032)]]
</pre></div></div>
</div>
<p><strong>4. Fill the hole of the geometry of feature2 by manipulating the geojson dictionary. Afterwards, execute the cell above again to see how the coordinates changed.</strong></p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[28]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="k">del</span> <span class="n">feature2</span><span class="p">[</span><span class="s2">&quot;geometry&quot;</span><span class="p">][</span><span class="s2">&quot;coordinates&quot;</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="3.-Geometric-Operations-in-Python-using-Shapely">
<h2>3. Geometric Operations in Python using Shapely<a class="headerlink" href="#3.-Geometric-Operations-in-Python-using-Shapely" title="Permalink to this headline">¶</a></h2>
<p>This works, but if we want to perform more complex geometric operations such as intersections between two geometries we need more complex data structures than a dictionary. Shapely is the perfect tool for this. Shapely is a Python module which converts dictionaries / geojson objects to geometry objects and allows us to perform geospatial operations. Check out the <a class="reference external" href="https://shapely.readthedocs.io/en/stable/manual.html">Shapely User Manual</a></p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[29]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">shapely.geometry</span> <span class="k">import</span> <span class="n">shape</span>
</pre></div>
</div>
</div>
<p><strong>0. Load the data from the file “./cs4geos_ss19/exercice/ex1/polygons.geojson” into Python again.</strong> Note: You don’t have the copy the code here again, just execute the relevant cells above again.</p>
<p><strong>1. Extract the geometries of the two features and save them to new variables called ‘geometry1’ and ‘geometry2’. What is the data type?</strong></p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[31]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">geometry1</span> <span class="o">=</span> <span class="n">feature1</span><span class="p">[</span><span class="s2">&quot;geometry&quot;</span><span class="p">]</span>
<span class="n">geometry2</span> <span class="o">=</span> <span class="n">feature2</span><span class="p">[</span><span class="s2">&quot;geometry&quot;</span><span class="p">]</span>
<span class="n">geometry2</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[31]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
{&#39;type&#39;: &#39;Polygon&#39;,
 &#39;coordinates&#39;: [[(8.680486679077148, 49.418455714236885),
   (8.69619369506836, 49.418455714236885),
   (8.69619369506836, 49.42833758576036),
   (8.680486679077148, 49.42833758576036),
   (8.680486679077148, 49.418455714236885)]]}
</pre></div></div>
</div>
<p><strong>2. Use the method ``shapely.shape`` to convert the dictionary representation of the geometry to a shapely object. What is the data type of the new object?</strong></p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[32]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">geom_obj1</span> <span class="o">=</span> <span class="n">shape</span><span class="p">(</span><span class="n">geometry1</span><span class="p">)</span>
<span class="n">geom_obj2</span> <span class="o">=</span> <span class="n">shape</span><span class="p">(</span><span class="n">geometry2</span><span class="p">)</span>
<span class="nb">type</span><span class="p">(</span><span class="n">geom_obj1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[32]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
shapely.geometry.polygon.Polygon
</pre></div></div>
</div>
<p><strong>3. Plot the geometry of feature1.</strong></p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[33]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">geom_obj1</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[33]:
</pre></div>
</div>
<div class="output_area docutils container">
<img alt="../../_images/course_01_advanced_vector_processing_01_vector_data_38_0.svg" src="../../_images/course_01_advanced_vector_processing_01_vector_data_38_0.svg" /></div>
</div>
<p><strong>4. Calculate the area of the polygon.</strong></p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[34]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">geom_obj1</span><span class="o">.</span><span class="n">area</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[34]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
0.00012529441405854442
</pre></div></div>
</div>
<p><strong>5. Intersect the geometries of the two features.</strong></p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[35]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">geom_obj2</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">geom_obj1</span><span class="p">)</span><span class="o">.</span><span class="n">area</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[35]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
1.637024030019807e-05
</pre></div></div>
</div>
<p><strong>6. Creating new geometries with Shapely</strong></p>
<p>We can also use Shapely to create new geometry objects and the convert them to geojson dictionary.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[36]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">shapely.geometry</span> <span class="k">import</span> <span class="n">Point</span><span class="p">,</span> <span class="n">mapping</span>
<span class="n">point</span> <span class="o">=</span> <span class="n">Point</span><span class="p">([</span><span class="mi">13</span><span class="p">,</span> <span class="mi">49</span><span class="p">])</span>
<span class="n">point</span>
<span class="n">point_json</span> <span class="o">=</span> <span class="n">mapping</span><span class="p">(</span><span class="n">point</span><span class="p">)</span>
<span class="n">point_json</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[36]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
{&#39;type&#39;: &#39;Point&#39;, &#39;coordinates&#39;: (13.0, 49.0)}
</pre></div></div>
</div>
<div class="section" id="Exercise-3:">
<h3>Exercise 3:<a class="headerlink" href="#Exercise-3:" title="Permalink to this headline">¶</a></h3>
<p><strong>1. Create a rectangle geometry using shapely.</strong></p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[37]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">shapely.geometry</span> <span class="k">import</span> <span class="n">Polygon</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[39]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">coordinates</span> <span class="o">=</span> <span class="p">[(</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">),</span> <span class="p">(</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">),</span> <span class="p">(</span><span class="mf">1.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">),</span> <span class="p">(</span><span class="mf">1.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">),</span> <span class="p">(</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">)]</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[42]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">rectangel</span> <span class="o">=</span> <span class="n">Polygon</span><span class="p">(</span><span class="n">coordinates</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p><strong>2. Create a point which is located inside the rectangle.</strong></p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[43]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">point</span> <span class="o">=</span> <span class="n">Point</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p><strong>3. Use the ``within()`` function to check whether the point is within the rectangle.</strong></p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[44]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">point</span><span class="o">.</span><span class="n">within</span><span class="p">(</span><span class="n">rectangel</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[44]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
True
</pre></div></div>
</div>
</div>
</div>
<div class="section" id="Geospatial-analyses-with-attribute-data-using-Geopandas">
<h2>Geospatial analyses with attribute data using Geopandas<a class="headerlink" href="#Geospatial-analyses-with-attribute-data-using-Geopandas" title="Permalink to this headline">¶</a></h2>
<p>With shapely we can perform geospatial operations, but for some spatial analyses we also need to include attribute information of the features. Therefore, we need another layer of abstraction –&gt; Geopandas!</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[45]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">geopandas</span> <span class="k">as</span> <span class="nn">gpd</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[46]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">data_df</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="n">geojson_path_2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[47]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">data_df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[47]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>color</th>
      <th>id</th>
      <th>geometry</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>green</td>
      <td>1</td>
      <td>POLYGON ((8.670530319213867 49.41337442939828,...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>blue</td>
      <td>2</td>
      <td>POLYGON ((8.680486679077148 49.41845571423688,...</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<p>We can also plot the data with geopandas, but we need to enable matplotlib within jupyter using the magic command <code class="docutils literal notranslate"><span class="pre">%matplotlib</span> <span class="pre">inline</span></code>.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[48]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="o">%</span><span class="k">matplotlib</span> inline
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[49]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">data_df</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[49]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;matplotlib.axes._subplots.AxesSubplot at 0x1269d54a8&gt;
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../../_images/course_01_advanced_vector_processing_01_vector_data_60_1.png" src="../../_images/course_01_advanced_vector_processing_01_vector_data_60_1.png" />
</div>
</div>
<p>It looks more fancy with a background map. So lets add openstreetmap as a basemap with mplleaflet.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[50]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">data_df</span><span class="o">.</span><span class="n">to_crs</span><span class="p">({</span><span class="s2">&quot;init&quot;</span><span class="p">:</span> <span class="s2">&quot;epsg:32633&quot;</span><span class="p">})</span><span class="o">.</span><span class="n">area</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[50]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
0    1.015512e+06
1    1.141046e+06
dtype: float64
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[51]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">mplleaflet</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[52]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">data_df</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
<span class="n">mplleaflet</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
/Users/chludwig/Development/meinGruen/code/green_tag_info/env/green_tag_info/lib/python3.7/site-packages/IPython/core/display.py:689: UserWarning: Consider using IPython.display.IFrame instead
  warnings.warn(&#34;Consider using IPython.display.IFrame instead&#34;)
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[52]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<iframe src="data:text/html;base64,PGhlYWQ+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvbGVhZmxldC8wLjcuMy9sZWFmbGV0LmpzIj48L3NjcmlwdD4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvbGVhZmxldC8wLjcuMy9sZWFmbGV0LmNzcyIgLz4KICA8c3R5bGU+CiAgICAjbWFwNjlmODcyNTMyYjRkNGE2YzkwZjM4MjA5MzBlMGY3ZmMgewogICAgICBoZWlnaHQ6MTAwJTsKICAgIH0KICA8L3N0eWxlPiAKPC9oZWFkPgo8Ym9keT4KICA8ZGl2IGlkPSJtYXA2OWY4NzI1MzJiNGQ0YTZjOTBmMzgyMDkzMGUwZjdmYyI+PC9kaXY+CjxzY3JpcHQgdGV4dD0idGV4dC9qYXZhc2NyaXB0Ij4KdmFyIG1hcCA9IEwubWFwKCdtYXA2OWY4NzI1MzJiNGQ0YTZjOTBmMzgyMDkzMGUwZjdmYycpOwpMLnRpbGVMYXllcigKICAiaHR0cDovL3tzfS50aWxlLm9wZW5zdHJlZXRtYXAub3JnL3t6fS97eH0ve3l9LnBuZyIsCiAge21heFpvb206MTksIGF0dHJpYnV0aW9uOiAnPGEgaHJlZj0iaHR0cHM6Ly9naXRodWIuY29tL2p3YXNzL21wbGxlYWZsZXQiPm1wbGxlYWZsZXQ8L2E+IHwgTWFwIGRhdGEgKGMpIDxhIGhyZWY9Imh0dHA6Ly9vcGVuc3RyZWV0bWFwLm9yZyI+T3BlblN0cmVldE1hcDwvYT4gY29udHJpYnV0b3JzJ30pLmFkZFRvKG1hcCk7CnZhciBnakRhdGEgPSB7InR5cGUiOiAiRmVhdHVyZUNvbGxlY3Rpb24iLCAiZmVhdHVyZXMiOiBbeyJ0eXBlIjogIkZlYXR1cmUiLCAiZ2VvbWV0cnkiOiB7InR5cGUiOiAiUG9seWdvbiIsICJjb29yZGluYXRlcyI6IFtbWzguNjcwNTMwMzE5MjEzODY3LCA0OS40MTMzNzQ0MjkzOTgyOF0sIFs4LjY4NTI5MzE5NzYzMTgzNiwgNDkuNDEzMzc0NDI5Mzk4MjhdLCBbOC42ODUyOTMxOTc2MzE4MzYsIDQ5LjQyMTg2MTU1NTcyMzU5NV0sIFs4LjY3MDUzMDMxOTIxMzg2NywgNDkuNDIxODYxNTU1NzIzNTk1XSwgWzguNjcwNTMwMzE5MjEzODY3LCA0OS40MTMzNzQ0MjkzOTgyOF1dXX0sICJwcm9wZXJ0aWVzIjogeyJjb2xvciI6ICJub25lIiwgIndlaWdodCI6IDEuMCwgIm9wYWNpdHkiOiBudWxsLCAiZmlsbENvbG9yIjogIiMxRjc3QjQiLCAiZGFzaEFycmF5IjogIjEwLDAifX0sIHsidHlwZSI6ICJGZWF0dXJlIiwgImdlb21ldHJ5IjogeyJ0eXBlIjogIlBvbHlnb24iLCAiY29vcmRpbmF0ZXMiOiBbW1s4LjY4MDQ4NjY3OTA3NzE0OCwgNDkuNDE4NDU1NzE0MjM2ODg1XSwgWzguNjk2MTkzNjk1MDY4MzYsIDQ5LjQxODQ1NTcxNDIzNjg4NV0sIFs4LjY5NjE5MzY5NTA2ODM2LCA0OS40MjgzMzc1ODU3NjAzNl0sIFs4LjY4MDQ4NjY3OTA3NzE0OCwgNDkuNDI4MzM3NTg1NzYwMzZdLCBbOC42ODA0ODY2NzkwNzcxNDgsIDQ5LjQxODQ1NTcxNDIzNjg4NV1dLCBbWzguNjg4NDY4OTMzMTA1NDY5LCA0OS40MjM5ODMxMDc5ODAzMl0sIFs4LjY5Mzk2MjA5NzE2Nzk2OSwgNDkuNDIzOTgzMTA3OTgwMzJdLCBbOC42OTM5NjIwOTcxNjc5NjksIDQ5LjQyNjYwNzAwNjI1MjE3Nl0sIFs4LjY4ODQ2ODkzMzEwNTQ2OSwgNDkuNDI2NjA3MDA2MjUyMTc2XSwgWzguNjg4NDY4OTMzMTA1NDY5LCA0OS40MjM5ODMxMDc5ODAzMl1dXX0sICJwcm9wZXJ0aWVzIjogeyJjb2xvciI6ICJub25lIiwgIndlaWdodCI6IDEuMCwgIm9wYWNpdHkiOiBudWxsLCAiZmlsbENvbG9yIjogIiMxRjc3QjQiLCAiZGFzaEFycmF5IjogIjEwLDAifX1dfTsKCmlmIChnakRhdGEuZmVhdHVyZXMubGVuZ3RoICE9IDApIHsKICB2YXIgZ2ogPSBMLmdlb0pzb24oZ2pEYXRhLCB7CiAgICBzdHlsZTogZnVuY3Rpb24gKGZlYXR1cmUpIHsKICAgICAgcmV0dXJuIGZlYXR1cmUucHJvcGVydGllczsKICAgIH0sCiAgICBwb2ludFRvTGF5ZXI6IGZ1bmN0aW9uIChmZWF0dXJlLCBsYXRsbmcpIHsKICAgICAgdmFyIGljb24gPSBMLmRpdkljb24oeydodG1sJzogZmVhdHVyZS5wcm9wZXJ0aWVzLmh0bWwsIAogICAgICAgIGljb25BbmNob3I6IFtmZWF0dXJlLnByb3BlcnRpZXMuYW5jaG9yX3gsIAogICAgICAgICAgICAgICAgICAgICBmZWF0dXJlLnByb3BlcnRpZXMuYW5jaG9yX3ldLCAKICAgICAgICAgIGNsYXNzTmFtZTogJ2VtcHR5J30pOyAgLy8gV2hhdCBjYW4gSSBkbyBhYm91dCBlbXB0eT8KICAgICAgcmV0dXJuIEwubWFya2VyKGxhdGxuZywge2ljb246IGljb259KTsKICAgIH0KICB9KTsKICBnai5hZGRUbyhtYXApOwogIAogIG1hcC5maXRCb3VuZHMoZ2ouZ2V0Qm91bmRzKCkpOwp9IGVsc2UgewogIG1hcC5zZXRWaWV3KFswLCAwXSwgMSk7Cn0KPC9zY3JpcHQ+CjwvYm9keT4=" width="100%" height="240"></iframe></div>
</div>
<p>Great you went all the way from creating your geodata by hand up to displaying it in Python.</p>
<p>If you want to learn more about GeoPandas, check out the tutorial in the course repository located in ‘./exercises/ex1/geopandas-tutorial’.</p>
<p><strong>Final exercise:</strong> Remember Exercise D from the GeoScripting course. Solve the temperature exercise using GeoPandas.</p>
<ul class="simple">
<li><p>Read the shapefile <em>DWD_temperature.shp</em> using GeoPandas.</p></li>
<li><p>Derive and print the descriptive statistical values of the column <em>temperature</em> (min, max, mean, median, sum).</p></li>
</ul>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="Summary">
<h2>Summary<a class="headerlink" href="#Summary" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Complex and more abstract data types are needed to handle geospatial data and perform geospatial analyses in Python.</p></li>
<li><p>Note that these data types are based on a cascade of simpler data types.</p></li>
<li><p>Therefore, a Python library such as GeoPandas usually has a numer of dependencies (e.g. shapely, fiona)</p></li>
</ul>
</div>
<div class="section" id="References:">
<h2>References:<a class="headerlink" href="#References:" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://www.twilio.com/blog/2017/08/geospatial-analysis-python-geojson-geopandas.html">Getting Started on Geospatial Analysis with Python, GeoJSON and GeoPandas</a></p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="02_raster_data.html" class="btn btn-neutral float-right" title="Part 3: Raster Data Processing in Python" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="00_pythonic_or_not_pythonic.html" class="btn btn-neutral float-left" title="Part 1: Introduction to Advanced Geo Data Processing" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Christina Ludwig

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>